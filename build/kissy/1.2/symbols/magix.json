{"isNamespace":true,"desc":"Magix对象，提供常用方法","alias":"Magix","methods":[{"desc":"利用底层类库的包机制加载js文件，仅Magix内部使用，不推荐在app中使用","alias":"Magix.use","isStatic":true,"memberOf":"Magix","isPrivate":true,"isa":"FUNCTION","_name":"use","_params":[{"title":"param","desc":"形如app/views/home这样的字符串","type":"String","name":"name"},{"title":"param","desc":"加载完成后的回调方法","type":"Function","name":"fn"}]},{"type":"String","desc":"通过xhr同步获取文件的内容，仅开发magix自身时使用","alias":"Magix.include","isStatic":true,"memberOf":"Magix","returns":[{"title":"return","desc":"文件内容","type":"String"}],"isPrivate":true,"isa":"FUNCTION","_name":"include","_params":[{"title":"param","desc":"文件路径","type":"String","name":"path"}]},{"type":"Object","desc":"把src对象的值混入到aim对象上","alias":"Magix.mix","isStatic":true,"memberOf":"Magix","returns":[{"title":"return","type":"Object"}],"isa":"FUNCTION","_name":"mix","_params":[{"title":"param","desc":"要mix的目标对象","type":"Object","name":"aim"},{"title":"param","desc":"mix的来源对象","type":"Object","name":"src"},{"title":"param","desc":"在复制时，需要忽略的key","type":"Object","name":"ignore","isOptional":true}],"example":[{"title":"example","desc":"  var o1={\r      a:10\r  };\r  var o2={\r      b:20,\r      c:30\r  };\r\r  Magix.mix(o1,o2);//{a:10,b:20,c:30}\r\r  Magix.mix(o1,o2,{c:true});//{a:10,b:20}"}]},{"desc":"未实现的方法","alias":"Magix.unimpl","isStatic":true,"memberOf":"Magix","isPrivate":true,"isa":"FUNCTION","_name":"unimpl"},{"type":"Boolean","desc":"检测某个对象是否拥有某个属性","alias":"Magix.has","isStatic":true,"memberOf":"Magix","returns":[{"title":"return","desc":"是否拥有prop属性","type":"Boolean"}],"isa":"FUNCTION","_name":"has","_params":[{"title":"param","desc":"检测对象","type":"Object","name":"owner"},{"title":"param","desc":"属性","type":"String","name":"prop"}],"example":[{"title":"example","desc":"  var obj={\r      key1:undefined,\r      key2:0\r  }\r\r  Magix.has(obj,'key1');//true\r  Magix.has(obj,'key2');//true\r  Magix.has(obj,'key3');//false"}]},{"type":"Object","desc":"以try catch的方式执行方法，忽略掉任何异常","alias":"Magix.tryCall","isStatic":true,"memberOf":"Magix","returns":[{"title":"return","desc":"返回执行的最后一个方法的返回值","type":"Object"}],"isa":"FUNCTION","_name":"tryCall","_params":[{"title":"param","desc":"函数数组","type":"Array","name":"fns"},{"title":"param","desc":"参数数组","type":"Array","name":"args"},{"title":"param","desc":"在待执行的方法内部，this的指向","type":"Object","name":"context"}],"example":[{"title":"example","desc":"var f1=function(){\r     throw new Error('msg');\r};\r\rvar f2=function(msg){\r     return 'new_'+msg;\r};\r\rvar result=Magix.tryCall([f1,f2],new Date().getTime());\r\rS.log(result);//得到f2的返回值"}]},{"desc":"空方法","alias":"Magix.noop","isStatic":true,"memberOf":"Magix","isa":"FUNCTION","_name":"noop"},{"type":"Object","desc":"设置或获取配置信息","alias":"Magix.config","isStatic":true,"memberOf":"Magix","returns":[{"title":"return","desc":"配置信息对象","type":"Object"}],"isa":"FUNCTION","_name":"config","_params":[{"title":"param","desc":"配置信息对象","type":"Object","name":"cfg","isOptional":true}],"example":[{"title":"example","desc":"Magix.config({\r     naviveHistory:true,\r     rootId:'J_app_main'\r});\r\rvar config=Magix.config();\r\rS.log(config.rootId);"}]},{"desc":"应用初始化入口","alias":"Magix.start","isStatic":true,"memberOf":"Magix","isa":"FUNCTION","_name":"start","_params":[{"title":"param","desc":"初始化配置参数对象","type":"Object","name":"cfg"},{"title":"param","desc":"是否使用history state,当为true，并且浏览器支持的情况下会用history.pushState修改url，您应该确保服务器能给予支持。如果nativeHistory为false将使用hash修改url","type":"Boolean","name":"cfg.nativeHistory"},{"title":"param","desc":"默认加载的view","type":"String","name":"cfg.defaultView"},{"title":"param","desc":"默认view对应的pathname","type":"String","name":"cfg.defaultPathname"},{"title":"param","desc":"404时加载的view","type":"String","name":"cfg.notFoundView"},{"title":"param","desc":"pathname与view映射关系表","type":"Object","name":"cfg.routes"},{"title":"param","desc":"ini文件位置","type":"String","name":"cfg.iniFile"},{"title":"param","desc":"根view的id","type":"String","name":"cfg.rootId"},{"title":"param","desc":"需要加载的扩展","type":"Array","name":"cfg.extensions"},{"title":"param","desc":"是否对地址栏中的参数进行编码或解码，默认true","type":"Boolean","name":"cfg.coded"},{"title":"param","desc":"发布版以try catch执行一些用户重写的核心流程，当出错时，允许开发者通过该配置项进行捕获。注意：您不应该在该方法内再次抛出任何错误！","type":"Function","name":"cfg.error"}],"example":[{"title":"example","desc":"Magix.start({\r     useHistoryState:true,\r     rootId:'J_app_main',\r     iniFile:'',//是否有ini配置文件\r     defaultView:'app/views/layouts/default',//默认加载的view\r     defaultPathname:'/home',\r     routes:{\r         \"/home\":\"app/views/layouts/default\"\r     }\r});"}]},{"type":"Array","desc":"获取对象的keys","alias":"Magix.keys","isStatic":true,"memberOf":"Magix","returns":[{"title":"return","type":"Array"}],"isa":"FUNCTION","_name":"keys","_params":[{"title":"param","desc":"要获取key的对象","type":"Object","name":"obj"}],"example":[{"title":"example","desc":"   var obj={\r       key1:20,\r       key2:60,\r       a:3\r   };\r\r   Magix.keys(obj);//['key1','key2','a']"}]},{"type":"Object|Undefined","desc":"获取或设置本地数据，您可以把整个app需要共享的数据，通过该方法进行全局存储，方便您在任意view中访问这份数据","alias":"Magix.local","isStatic":true,"memberOf":"Magix","returns":[{"title":"return","type":"Object|Undefined"}],"isa":"FUNCTION","_name":"local","_params":[{"title":"param","desc":"获取或设置数据的key","type":"String|Object","name":"key"},{"title":"param","desc":"设置的对象","type":"[type]","name":"val","isOptional":true}],"example":[{"title":"example","desc":"Magix.local({//以对象的形式存值\r     userId:'58782'\r});\r\rMagix.local('userName','xinglie.lkf');\r\rvar userId=Magix.local('userId');//获取userId\r\rvar locals=Magix.local();//获取所有的值\r\rS.log(locals);"}]},{"type":"String","desc":"路径","alias":"Magix.path","isStatic":true,"memberOf":"Magix","returns":[{"title":"return","type":"String"}],"isa":"FUNCTION","_name":"path","_params":[{"title":"param","desc":"参考地址","type":"String","name":"url"},{"title":"param","desc":"相对参考地址的片断","type":"String","name":"part"}],"example":[{"title":"example","desc":"http://www.a.com/a/b.html?a=b#!/home?e=f   /   => http://www.a.com/\rhttp://www.a.com/a/b.html?a=b#!/home?e=f   ./     =>http://www.a.com/a/\rhttp://www.a.com/a/b.html?a=b#!/home?e=f   ../../    => http://www.a.com/\rhttp://www.a.com/a/b.html?a=b#!/home?e=f   ./../  => http://www.a.com/"}]},{"type":"Object","desc":"把路径字符串转换成对象","alias":"Magix.toObject","isStatic":true,"memberOf":"Magix","returns":[{"title":"return","desc":"解析后的对象","type":"Object"}],"isa":"FUNCTION","_name":"toObject","_params":[{"title":"param","desc":"路径字符串","type":"String","name":"path"}],"example":[{"title":"example","desc":"var obj=Magix.toObject('/xxx/?a=b&c=d');\r//obj={path:'/xxx/',params:{a:'b',c:'d'}}"}]},{"type":"String","desc":"转换成字符串路径","alias":"Magix.toUrl","isStatic":true,"memberOf":"Magix","returns":[{"title":"return","desc":"字符串路径","type":"String"}],"isa":"FUNCTION","_name":"toUrl","_params":[{"title":"param","desc":"路径","type":"String","name":"path"},{"title":"param","desc":"参数对象","type":"Object","name":"params"},{"title":"param","desc":"是否保留空白值的对象","type":"Object","name":"keo","isOptional":true}],"example":[{"title":"example","desc":"var str=Magix.toUrl('/xxx/',{a:'b',c:'d'});\r//str==/xxx/?a=b&c=d\r\rvar str=Magix.toUrl('/xxx/',{a:'',c:2});\r\r//str==/xxx/?a=&c=2\r\rvar str=Magix.toUrl('/xxx/',{a:'',c:2},{c:1});\r\r//str==/xxx/?c=2\rvar str=Magix.toUrl('/xxx/',{a:'',c:2},{a:1,c:1});\r\r//str==/xxx/?a=&c=2"}]},{"type":"Object","desc":"把列表转化成hash对象","alias":"Magix.toMap","isStatic":true,"memberOf":"Magix","returns":[{"title":"return","type":"Object"}],"isa":"FUNCTION","_name":"toMap","_params":[{"title":"param","desc":"源数组","type":"Array","name":"list"},{"title":"param","desc":"以数组中对象的哪个key的value做为hahs的key","type":"String","name":"key"}],"example":[{"title":"example","desc":"var map=Magix.toMap([1,2,3,5,6]);\r//=> {1:1,2:1,3:1,4:1,5:1,6:1}\r\rvar map=Magix.toMap([{id:20},{id:30},{id:40}],'id');\r//=>{20:{id:20},30:{id:30},40:{id:40}}\r\rvar map=Magix.toMap('submit,focusin,focusout,mouseenter,mouseleave,mousewheel,change');\r\r//=>{submit:1,focusin:1,focusout:1,mouseenter:1,mouseleave:1,mousewheel:1,change:1}"}]},{"desc":"创建缓存对象","alias":"Magix.cache","isStatic":true,"memberOf":"Magix","isa":"FUNCTION","_name":"cache","_params":[{"title":"param","desc":"最大缓存数","type":"Integer","name":"max"},{"title":"param","desc":"缓冲区大小","type":"Integer","name":"buffer"}],"example":[{"title":"example","desc":"var c=Magix.cache(5,2);//创建一个可缓存5个，且缓存区为2个的缓存对象\rc.set('key1',{});//缓存\rc.get('key1');//获取\rc.del('key1');//删除\rc.has('key1');//判断\r//注意：缓存通常配合其它方法使用，不建议单独使用。在Magix中，对路径的解释等使用了缓存。在使用缓存优化性能时，可以达到节省CPU和内存的双赢效果"}]}],"isa":"OBJECT","_name":"Magix"}