{"isNamespace":true,"desc":"路由对象，操作URL","alias":"Router","methods":[{"desc":"使用history state做为改变url的方式来保存当前页面的状态","alias":"Router.useState","isStatic":true,"memberOf":"Router","isPrivate":true,"isa":"FUNCTION","_name":"useState"},{"desc":"使用hash做为改变url的方式来保存当前页面的状态","alias":"Router.useHash","isStatic":true,"memberOf":"Router","isPrivate":true,"isa":"FUNCTION","_name":"useHash"},{"type":"Object","desc":"根据地址栏中的path获取对应的前端view","alias":"Router.viewInfo","isStatic":true,"memberOf":"Router","returns":[{"title":"return","desc":"返回形如{view:'app/views/default',path:'/home'}这样的对象","type":"Object"}],"isPrivate":true,"isa":"FUNCTION","_name":"viewInfo","_params":[{"title":"param","desc":"形如/list/index这样的path","type":"String","name":"path"},{"title":"param","desc":"内部临时使用的对象","type":"Object","name":"loc"}]},{"desc":"开始路由工作","alias":"Router.start","isStatic":true,"memberOf":"Router","isPrivate":true,"isa":"FUNCTION","_name":"start"},{"type":"Object","desc":"解析href的query和hash，默认href为window.location.href","alias":"Router.parseQH","isStatic":true,"memberOf":"Router","returns":[{"title":"return","desc":"解析的对象","type":"Object"}],"isa":"FUNCTION","_name":"parseQH","_params":[{"title":"param","desc":"href","type":"String","name":"href","isOptional":true},{"title":"param","name":"inner"}]},{"type":"Object","desc":"获取2个location对象之间的差异部分","alias":"Router.getChged","isStatic":true,"memberOf":"Router","returns":[{"title":"return","desc":"返回包含差异信息的对象","type":"Object"}],"isPrivate":true,"isa":"FUNCTION","_name":"getChged","_params":[{"title":"param","desc":"原始的location对象","type":"Object","name":"oldLocation"},{"title":"param","desc":"当前的location对象","type":"Object","name":"newLocation"}]},{"desc":"根据window.location.href路由并派发相应的事件","alias":"Router.route","isStatic":true,"memberOf":"Router","isa":"FUNCTION","_name":"route"},{"desc":"导航到新的地址","alias":"Router.navigate","isStatic":true,"memberOf":"Router","isa":"FUNCTION","_name":"navigate","_params":[{"title":"param","desc":"path或参数字符串或参数对象","type":"Object|String","name":"pn"},{"title":"param","desc":"参数对象","type":"String|Object","name":"params","isOptional":true},{"title":"param","desc":"是否替换当前历史记录","type":"Boolean","name":"replace","isOptional":true}],"example":[{"title":"example","desc":"Magix.use('magix/router',function(S,R){\r     R.navigate('/list?page=2&rows=20');//改变path和相关的参数，地址栏上的其它参数会进行丢弃，不会保留\r     R.navigate('page=2&rows=20');//只修改参数，地址栏上的其它参数会保留\r     R.navigate({//通过对象修改参数，地址栏上的其它参数会保留\r         page:2,\r         rows:20\r     });\r     R.navigate('/list',{//改变path和相关参数，丢弃地址栏上原有的其它参数\r         page:2,\r         rows:20\r     });\r\r     //凡是带path的修改地址栏，都会把原来地址栏中的参数丢弃\r\r});"}]},{"desc":"绑定事件","alias":"Router.on","isStatic":true,"memberOf":"Router","isa":"FUNCTION","_name":"on","_params":[{"title":"param","desc":"事件名称","type":"String","name":"name"},{"title":"param","desc":"事件回调","type":"Function","name":"fn"},{"title":"param","desc":"事件监听插入的位置","type":"Interger","name":"insert"}],"example":[{"title":"example","desc":"var T=Magix.mix({},Event);\r\n        T.on('done',function(e){\r\n            alert(1);\r\n        });\r\n        T.on('done',function(e){\r\n            alert(2);\r\n            T.off('done',arguments.callee);\r\n        });\r\n        T.on('done',function(e){\r\n            alert(3);\r\n        },0);//监听插入到开始位置\r\n\r\n        T.once('done',function(e){\r\n            alert('once');\r\n        });\r\n\r\n        T.fire('done',{data:'test'});\r\n        T.fire('done',{data:'test2'});"}]},{"desc":"触发事件","alias":"Router.fire","isStatic":true,"memberOf":"Router","isa":"FUNCTION","_name":"fire","_params":[{"title":"param","desc":"事件名称","type":"String","name":"name"},{"title":"param","desc":"事件对象","type":"Object","name":"data"},{"title":"param","desc":"事件触发完成后是否移除这个事件的所有监听","type":"Boolean","name":"remove"},{"title":"param","desc":"是否从后向前触发事件的监听列表","type":"Boolean","name":"lastToFirst"}]},{"desc":"解除事件绑定","alias":"Router.off","isStatic":true,"memberOf":"Router","isa":"FUNCTION","_name":"off","_params":[{"title":"param","desc":"事件名称","type":"String","name":"name"},{"title":"param","desc":"事件回调","type":"Function","name":"fn"}]},{"desc":"绑定事件，触发一次后即解绑","alias":"Router.once","isStatic":true,"memberOf":"Router","isa":"FUNCTION","_name":"once","_params":[{"title":"param","desc":"事件名称","type":"String","name":"name"},{"title":"param","desc":"事件回调","type":"Function","name":"fn"}]},{"desc":"依托另外一个对象的事件自动解绑","alias":"Router.rely","isStatic":true,"memberOf":"Router","isa":"FUNCTION","_name":"rely","_params":[{"title":"param","desc":"事件名称","type":"String","name":"name"},{"title":"param","desc":"事件回调","type":"Function","name":"fn"},{"title":"param","desc":"依托的对象","type":"Object","name":"relyObj"},{"title":"param","desc":"依托的名称","type":"String","name":"relyName"},{"title":"param","desc":"事件监听插入的位置","type":"Interger","name":"insert"}],"example":[{"title":"example","desc":"var a=Magix.mix({},Event);\rvar b=Magix.mix({},Event);\ra.rely('test',function(e){\r\r},b,'destroy');\r\ra.fire('test');//正常\rb.fire('destroy');\ra.fire('test');//不再打印console.log"}]}],"events":[{"desc":"当window.location.href有改变化时触发","alias":"Router.event:changed","isStatic":true,"memberOf":"Router","isEvent":true,"isa":"FUNCTION","_name":"changed","_params":[{"title":"param","desc":"事件对象","type":"Object","name":"e"},{"title":"param","desc":"地址解析出来的对象，包括query hash 以及 query和hash合并出来的params等","type":"Object","name":"e.location"},{"title":"param","desc":"有哪些值发生改变的对象，可通过读取该对象下面的path,view或params，来识别值是从(from)什么值变成(to)什么值","type":"Object","name":"e.changed"},{"title":"param","desc":"标识是否是第一次强制触发的changed，对于首次加载完Magix，会强制触发一次changed","type":"Boolean","name":"e.force"}]},{"desc":"当window.location.href有改变化时触发（该事件在扩展中实现）","alias":"Router.event:change","isStatic":true,"memberOf":"Router","isEvent":true,"isa":"FUNCTION","_name":"change","_params":[{"title":"param","desc":"事件对象","type":"Object","name":"e"},{"title":"param","desc":"地址解析出来的对象，包括query hash 以及 query和hash合并出来的params等","type":"Object","name":"e.location"},{"title":"param","desc":"回退到变化前的地址上，阻止跳转","type":"Function","name":"e.back"}]}],"isa":"OBJECT","_name":"Router","inherits":[{"alias":"Event.on","as":"Router.on"},{"alias":"Event.fire","as":"Router.fire"},{"alias":"Event.off","as":"Router.off"},{"alias":"Event.once","as":"Router.once"},{"alias":"Event.rely","as":"Router.rely"}]}