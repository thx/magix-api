{"isNamespace":true,"desc":"Model管理对象，可方便的对Model进行缓存和更新","alias":"Manager","methods":[{"desc":"创建Model类管理对象","alias":"Manager.create","isStatic":true,"memberOf":"Manager","isa":"FUNCTION","_name":"create","_params":[{"title":"param","desc":"Model类","type":"Model","name":"modelClass"},{"title":"param","desc":"序列化生成cacheKey时，除了使用urlParams和postParams外，额外使用的key","type":"Array","name":"serKeys"}]},{"desc":"扩展MMamager","alias":"Manager.mixin","isStatic":true,"memberOf":"Manager","isa":"FUNCTION","_name":"mixin","_params":[{"title":"param","desc":"扩展到原型上的方法","type":"Object","name":"props"},{"title":"param","desc":"在初始化Manager时进行调用的方法","type":"Function","name":"ctor"}]},{"desc":"注册APP中用到的model","alias":"Manager#registerModels","memberOf":"Manager","isa":"FUNCTION","_name":"registerModels","_params":[{"title":"param","desc":"模块描述信息","type":"Object|Array","name":"models"},{"title":"param","desc":"app中model的唯一标识","type":"String","name":"models.name"},{"title":"param","desc":"发起请求时，默认的get参数对象","type":"Object","name":"models.urlParams"},{"title":"param","desc":"发起请求时，默认的post参数对象","type":"Object","name":"models.postParams"},{"title":"param","desc":"指定当前请求缓存多长时间,为true默认20分钟，可传入整数表示缓存多少毫秒","type":"Boolean|Integer","name":"models.cache"},{"title":"param","desc":"请求成功后，清除其它缓存的name数组","type":"Array","name":"models.cleans"},{"title":"param","desc":"model在开始请求前的回调","type":"Function","name":"models.before"},{"title":"param","desc":"model在结束请求，并且成功后回调","type":"Function","name":"models.after"}]},{"desc":"注册常用方法，或以把经常几个同时请求的model封装成一个方法以便快捷调用","alias":"Manager#registerMethods","memberOf":"Manager","isa":"FUNCTION","_name":"registerMethods","_params":[{"title":"param","desc":"方法对象","type":"Object","name":"methods"}]},{"type":"Model","desc":"创建model对象","alias":"Manager#create","memberOf":"Manager","returns":[{"title":"return","type":"Model"}],"isa":"FUNCTION","_name":"create","_params":[{"title":"param","desc":"model描述信息对象","type":"Object","name":"modelAttrs"}]},{"type":"Object","desc":"获取model注册时的元信息","alias":"Manager#getMeta","memberOf":"Manager","returns":[{"title":"return","type":"Object"}],"exceptions":[{"title":"throws","desc":"If unfound:name","type":"Error"}],"isa":"FUNCTION","_name":"getMeta","_params":[{"title":"param","desc":"名称","type":"String|Object","name":"modelAttrs"}]},{"type":"Object","desc":"获取model对象，优先从缓存中获取","alias":"Manager#getModel","memberOf":"Manager","returns":[{"title":"return","type":"Object"}],"isa":"FUNCTION","_name":"getModel","_params":[{"title":"param","desc":"model描述信息对象","type":"Object","name":"modelAttrs"},{"title":"param","desc":"是否是创建新的Model对象，如果否，则尝试从缓存中获取","type":"Boolean","name":"createNew"}]},{"type":"Request","desc":"创建Request对象","alias":"Manager#createRequest","memberOf":"Manager","returns":[{"title":"return","desc":"返回Request对象","type":"Request"}],"isa":"FUNCTION","_name":"createRequest","_params":[{"title":"param","desc":"传递View对象，托管Request","type":"View","name":"view"},{"title":"param","desc":"托管到view时的资源key，同名key会自动销毁前一个","type":"String","name":"key","isOptional":true}]},{"desc":"根据name清除缓存的models","alias":"Manager#clearCache","memberOf":"Manager","isa":"FUNCTION","_name":"clearCache","_params":[{"title":"param","desc":"字符串或数组","type":"String|Array","name":"names"}]},{"type":"Model","desc":"从缓存中获取model对象","alias":"Manager#getCached","memberOf":"Manager","returns":[{"title":"return","type":"Model"}],"isa":"FUNCTION","_name":"getCached","_params":[{"title":"param","type":"Object","name":"modelAttrs"}]},{"desc":"绑定事件","alias":"Manager#on","memberOf":"Manager","isa":"FUNCTION","_name":"on","_params":[{"title":"param","desc":"事件名称","type":"String","name":"name"},{"title":"param","desc":"事件回调","type":"Function","name":"fn"},{"title":"param","desc":"事件监听插入的位置或依赖的对象","type":"Interger|Object","name":"insert"},{"title":"param","desc":"依赖对象的事件名称","type":"String","name":"relyName","isOptional":true}],"example":[{"title":"example","desc":"var T=Magix.mix({},Event);\r\n        T.on('done',function(e){\r\n            alert(1);\r\n        });\r\n        T.on('done',function(e){\r\n            alert(2);\r\n            T.off('done',arguments.callee);\r\n        });\r\n        T.on('done',function(e){\r\n            alert(3);\r\n        },0);//监听插入到开始位置\r\n\r\n        T.once('done',function(e){\r\n            alert('once');\r\n        });\r\n\r\n        T.fire('done',{data:'test'});\r\n        T.fire('done',{data:'test2'});\r\n\r\n        var a=Magix.mix({},Event);\r\n        var b=Magix.mix({},Event);\r\n        a.on('test',function(e){\r\n\r\n        },b,'destroy');\r\n\r\n        a.fire('test');//正常\r\n        b.fire('destroy');\r\n        a.fire('test');//不再打印console.log"}]},{"desc":"触发事件","alias":"Manager#fire","memberOf":"Manager","isa":"FUNCTION","_name":"fire","_params":[{"title":"param","desc":"事件名称","type":"String","name":"name"},{"title":"param","desc":"事件对象","type":"Object","name":"data"},{"title":"param","desc":"事件触发完成后是否移除这个事件的所有监听","type":"Boolean","name":"remove"},{"title":"param","desc":"是否从后向前触发事件的监听列表","type":"Boolean","name":"lastToFirst"}]},{"desc":"解除事件绑定","alias":"Manager#off","memberOf":"Manager","isa":"FUNCTION","_name":"off","_params":[{"title":"param","desc":"事件名称","type":"String","name":"name"},{"title":"param","desc":"事件回调","type":"Function","name":"fn"}]},{"desc":"绑定事件，触发一次后即解绑","alias":"Manager#once","memberOf":"Manager","isa":"FUNCTION","_name":"once","_params":[{"title":"param","desc":"事件名称","type":"String","name":"name"},{"title":"param","desc":"事件回调","type":"Function","name":"fn"}]}],"events":[{"desc":"创建完成Model对象后触发","alias":"Manager#event:start","memberOf":"Manager","isEvent":true,"isa":"FUNCTION","_name":"start","_params":[{"title":"param","type":"Object","name":"e"},{"title":"param","desc":"model对象","type":"Model","name":"e.model"}]},{"desc":"Model对象请求成功后触发","alias":"Manager#event:done","memberOf":"Manager","isEvent":true,"isa":"FUNCTION","_name":"done","_params":[{"title":"param","type":"Object","name":"e"},{"title":"param","desc":"model对象","type":"Model","name":"e.model"}]},{"desc":"Model对象完成请求并调用完相关的回调才触发","alias":"Manager#event:finish","memberOf":"Manager","isEvent":true,"isa":"FUNCTION","_name":"finish","_params":[{"title":"param","type":"Object","name":"e"},{"title":"param","desc":"如果请求失败，则为错误描述信息","type":"String","name":"e.msg"},{"title":"param","desc":"model对象","type":"Model","name":"e.model"}]},{"desc":"Model对象请求失败后触发","alias":"Manager#event:fail","memberOf":"Manager","isEvent":true,"isa":"FUNCTION","_name":"fail","_params":[{"title":"param","type":"Object","name":"e"},{"title":"param","desc":"错误描述信息","type":"Model","name":"e.msg"},{"title":"param","desc":"model对象","type":"Model","name":"e.model"}]}],"isa":"CONSTRUCTOR","_name":"Manager","_params":[{"title":"param","desc":"Model类","type":"Model","name":"modelClass"},{"title":"param","desc":"序列化生成cacheKey时，除了使用urlParams和postParams外，额外使用的key","type":"Array","name":"serKeys"}],"inherits":[{"alias":"Event.on","as":"Manager#on"},{"alias":"Event.fire","as":"Manager#fire"},{"alias":"Event.off","as":"Manager#off"},{"alias":"Event.once","as":"Manager#once"}]}