KISSY.use("magix/magix,magix/vom",function(a,b,c){var d=document.getElementById("magix_percent"),e={startChecker:function(){var a=this;a.$checker=setTimeout(function(){},18e4)},stopChecker:function(){var a=this;clearTimeout(a.$checker)},progress:function(a){d.style.width=100*a+"%",1==a&&(d.parentNode.removeChild(d),b.config("progress",null),e.stopChecker())},hookScript:function(){var b=a.getScript;a.getScript=function(){e.percent<=.97?e.percent+=.05*Math.random():e.percent>=1&&(a.getScript=b,e.percent=1,e.buffer.s=1),e.updateProgress(e.percent),b.apply(a,arguments)}},shiftValue:function(){var a=e.buffer.length;a?(a>8&&e.buffer.splice(0,2),e.progress(e.buffer.shift()),setTimeout(e.shiftValue,15)):e.buffer.d=0},updateProgress:function(a){a!=e.last&&(e.buffer.push(e.last=a),e.buffer.d||(e.buffer.d=setTimeout(e.shiftValue,15)))},buffer:[],percent:0,last:-1},f=0,g=0,h=0,i=0;c.on("add",function(a){f++,a.vframe.once("created",function(){if(!i){g++;var a=g/f;if(a>h){i=1==a,h=a;for(var b=Math.max(a,e.percent);e.percent<b;)e.percent+=.03*Math.random(),e.updateProgress(e.percent=Math.min(e.percent,b));e.updateProgress(e.percent=b)}}})}),c.on("remove",function(a){f--,a.fcc&&g--}),e.hookScript(),e.startChecker()});