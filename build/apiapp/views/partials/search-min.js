KISSY.add("apiapp/views/partials/search",function(a,b,c){return b.extend({template:'<div style="width:100%;height:100%;background-color:#000;opacity:.3;position:fixed;left:0;top:0;display:none" id=abc mx-mousedown=hideSearch></div> <input type=text style="width:200px;line-height:25px;height:25px;font-size:16px;position:relative;" mx-keyup=doSearch mx-focusin=showSearch  /> <vframe mx-view="apiapp/views/partials/search-result" id=J_apiapp_s_result style="position:relative;display:none"></vframe>',render:function(){this.setViewHTML(this.template)},"doSearch<keyup>":function(a){var b=this,d=b.$last,e=b.$(a.currentId).value;d!=e&&(b.$last=e,b.$lastSearch&&b.$lastSearch.stop(),e&&(b.$lastSearch=c.searchInfos(e,function(a,c){var d=b.vom.get("J_apiapp_s_result");d&&d.invokeView("showResults",a,c)},b)))},"showSearch<focusin>":function(a){this.$("abc").style.display="block",this.$("J_apiapp_s_result").style.display="block",this["doSearch<keyup>"](a)},"hideSearch<mousedown>":function(){this.$("abc").style.display="none",this.$("J_apiapp_s_result").style.display="none"}})},{requires:["mxext/view","apiapp/models/manager"]});