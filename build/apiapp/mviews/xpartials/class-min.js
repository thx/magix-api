KISSY.add("apiapp/mviews/xpartials/class",function(a,b,c,d,e){var f=function(a,b,c){var d=[];c||d.push({name:a});var e=b[a.toLowerCase()];if(e&&(e=e.get()),e){var g=e.inherits&&e.inherits[0];g?(g=g.alias.split(".")[0],d.push({type:"mix",name:g}),g=f(g,b,!0),g.length&&(d=d.concat(g))):(g=e.inheritsFrom&&e.inheritsFrom[0],g&&(d.push({name:g}),g=f(g,b,!0),g.length&&(d=d.concat(g))))}return d},g=function(){};g.prototype={method_params:function(a){var b=[];if(a)for(var c,d,e=0;e<a.length;e++)d=a[e],c=d.name,-1==c.indexOf(".")&&b.push(c);return b},moreInfos:function(a,b){a="$"+a;var c=this;return c[a]||(c[a]={}),c[a][b._name]=b,""},inherits_relation:function(a){var b="",c=this.view.getSubTmpl("inherits"),d=f(a,this.infos.map);return b=e.render(c,{list:d.reverse()})}};var h={info:null,example_desc:function(a){return a.desc.replace(/ /g,"&nbsp;").replace(/(?:\bfunction|var|if|else|this\b)/g,'<span style="color:blue">$&</span>').replace(/(^|[^:])(\/{2}[\s\S]*?)(?:[\r\n]|$)/gm,'$1<span style="color:green">$2</span><br />').replace(/\r\n|\r|\n/g,"<br />")}};return b.extend({tmpl:'{{entity=data.data}}\r\n<div class="content">\r\n    <div class="clearfix">\r\n        <h2 id="{{entity.alias}}">\r\n            {{if entity.isClass}}\r\n            {{data.moreInfos(\'class\',entity)}}\r\n            {{if entity._params||entity.example}}\r\n            <a href="#!/home" mx-click="toggleMoreInfos<prevent>({name:\'{{entity.alias}}\',type:\'class\',anchor:\'.content\'})"><i class="tree plus"></i>\r\n            {{/if}}\r\n            {{/if}}\r\n            {{entity.alias}}\r\n            {{if entity.isClass}}{{if entity._params||entity.example}}</a>{{/if}}\r\n            ({{data.method_params(entity._params)}})\r\n            {{/if}}\r\n            <small>{{entity.desc}}</small>\r\n        </h2>\r\n        {{{data.inherits_relation(entity._name)}}}\r\n    </div>\r\n\r\n    {{if entity.properties&&entity.properties.length}}\r\n    <h3>\u5c5e\u6027</h3>\r\n    {{each entity.properties as val}}\r\n    {{data.moreInfos(\'properties\',val)}}\r\n    <div class="list">\r\n        {{if val._params||val.example}}\r\n            <a href="#!/home" mx-click="toggleMoreInfos<prevent>({name:\'{{val._name}}\',type:\'properties\'})">\r\n        {{/if}}\r\n            <i class="tree plus" {{if !val._params&&!val.example}} style="background:none"{{/if}}></i>\r\n            <span class="item" id="{{entity.alias}}_p_{{val._name}}">{{val._name}}</span>\r\n        {{if val._params||val.example}}</a>{{/if}}\r\n        <small>&#123;{{if val.type}}{{val.type}}{{else}}{{if(val.defaultValue==\'true\'||val.defaultValue==\'false\')}}Boolean{{/if}}{{/if}}&#125;{{if val.memberOf!=entity._name}}<sup class="mark" title="\u7ee7\u627f\u6765\u7684">I</sup>{{/if}}</small><div class="desc">{{val.desc}}</div></div>\r\n    {{/each}}\r\n    {{/if}}\r\n\r\n    {{if entity.staticProperties&&entity.staticProperties.length}}\r\n    <h3>\u9759\u6001\u5c5e\u6027</h3>\r\n    {{each entity.staticProperties as val}}\r\n    <div class="list"><span class="item" id="{{entity.alias}}_sp_{{val._name}}">{{val._name}}</span>{{if val.type}} <small>&#123;{{val.type}}&#125;</small>{{/if}}</div>\r\n    <div class="desc">{{val.desc}}</div>\r\n    {{/each}}\r\n    {{/if}}\r\n\r\n    {{if entity.methods&&entity.methods.length}}\r\n    <h3>\u65b9\u6cd5</h3>\r\n    {{each entity.methods as val}}\r\n    {{data.moreInfos(\'methods\',val)}}\r\n    <div class="list">\r\n        {{if val._params||val.example||val.returns}}\r\n        <a href="#!/home" mx-click="toggleMoreInfos<prevent>({name:\'{{val._name}}\',type:\'methods\'})">{{/if}}<i class="tree plus" {{if !val._params&&!val.example&&!val.returns}} style="background:none"{{/if}}></i><span class="item" id="{{entity.alias}}_m_{{val._name}}">{{val._name}}({{data.method_params(val._params)}})</span> {{if val._params||val.example||val.returns}}</a>{{/if}}{{if val.isPrivate}}<sup class="mark" title="\u79c1\u6709\u65b9\u6cd5">P</sup>{{/if}}{{if val.memberOf!=entity._name||(entity.inheritsMap&&entity.inheritsMap[val.alias])}}<sup class="mark" title="\u7ee7\u627f\u6765\u7684">I</sup>{{/if}}\r\n        <div class="desc">{{val.desc}}</div>\r\n    </div>\r\n    {{/each}}\r\n    {{/if}}\r\n\r\n    {{if entity.staticMethods&&entity.staticMethods.length}}\r\n    <h3>\u9759\u6001\u65b9\u6cd5</h3>\r\n    {{each entity.staticMethods as val}}\r\n    {{data.moreInfos(\'staticMethods\',val)}}\r\n    <div class="list">\r\n        <a href="#!/home" mx-click="toggleMoreInfos<prevent>({name:\'{{val._name}}\',type:\'staticMethods\'})"><i class="tree plus"></i><span class="item" id="{{entity.alias}}_sm_{{val._name}}">{{val._name}}({{data.method_params(val._params)}})</span></a>{{if val.isPrivate}}<sup class="mark">P</sup>{{/if}}\r\n        <div class="desc">{{val.desc}}</div>\r\n    </div>\r\n    {{/each}}\r\n    {{/if}}\r\n\r\n    {{if entity.events&&entity.events.length}}\r\n    <h3>\u4e8b\u4ef6</h3>\r\n    {{each entity.events as val}}\r\n    {{data.moreInfos(\'events\',val)}}\r\n    <div class="list">\r\n        <a href="#!/home" mx-click="toggleMoreInfos<prevent>({name:\'{{val._name}}\',type:\'events\'})"><i class="tree plus"></i><span class="item" id="{{entity.alias}}_e_{{val._name}}">{{val._name}}</span></a>{{if val.memberOf!=entity._name}}<sup class="mark" title="\u7ee7\u627f\u6765\u7684">I</sup>{{/if}}\r\n        <div class="desc">{{val.desc}}</div>\r\n    </div>\r\n    {{/each}}\r\n    {{/if}}\r\n</div>\r\n\r\n{{#magix-tmpl-inherits}}\r\n<div class="ihrt-outer">\r\n    \u7ee7\u627f\u5173\u7cfb\uff1a\r\n    <div class="ihrt">\r\n        <div class="ihrt-t">Object</div>\r\n        {{each data.list as val}}\r\n            <div class="ihrt-list">\r\n                {{val.name}}{{if val.type}}&lt;{{val.type}}&gt;{{/if}}\r\n        {{/each}}\r\n        {{each data.list as val}}\r\n            </div>\r\n        {{/each}}\r\n    </div>\r\n</div>\r\n<div class="cb"></div>\r\n{{/magix-tmpl-inherits}}\r\n\r\n\r\n{{#magix-tmpl-method}}\r\n    {{content=false}}\r\n    {{if data.info._params&&data.info._params.length}}\r\n    {{content=true}}\r\n    <h4>\u53c2\u6570\uff1a</h4>\r\n    <div class="callout">\r\n        {{each data.info._params as key=>val}}\r\n        {{val.name}} &#123;{{val.type}}&#125; {{if val.isOptional}}[\u53ef\u9009\u53c2\u6570] {{/if}}{{if val.desc}}{{val.desc}}{{/if}}{{if key<data.info._params.length-1}}<br /><br />{{/if}}\r\n        {{/each}}\r\n    </div>\r\n    {{/if}}\r\n\r\n    {{if data.info.returns&&data.info.returns.length}}\r\n    {{content=true}}\r\n    <h4>\u8fd4\u56de\u503c\uff1a</h4>\r\n    <div class="callout">\r\n        {{each data.info.returns as key=>val}}\r\n        &#123;{{val.type}}&#125;{{if val.desc}}{{val.desc}}{{/if}}\r\n        {{/each}}\r\n    </div>\r\n    {{/if}}\r\n\r\n    {{if data.info.example&&data.info.example.length}}\r\n    {{content=true}}\r\n    <h4>\u793a\u4f8b\uff1a</h4>\r\n    <div class="example">\r\n    {{each data.info.example as val}}\r\n    {{{data.example_desc(val)}}}\r\n    {{/each}}\r\n    </div>\r\n    {{/if}}\r\n    {{if !content}}\r\n    \u65e0\r\n    {{/if}}\r\n{{/magix-tmpl-method}}',init:function(a){this.name=a.name},render:function(){var a=this,b=c.fetchClassInfos(a);b.next(function(b,c){if(b)a.setViewHTML(a.id,b.msg);else{var d=c.map[a.name];if(d){var f=d.get(),h=new g;h.data=f,h.infos=c,h.view=a,a.$ec=h;var i=e.render(a.tmpl,h);a.setViewHTML(a.id,i)}else a.setViewHTML(a.id,"not found:"+a.name)}})},"toggleMoreInfos<click>":function(b){var c=this,d=c.id+"_method_details",f=a.one("#"+d);f||(f=document.createElement("div"),f.id=d,document.body.appendChild(f),f=a.one(f));var g=a.one("#"+b.currentId),i=g.one("i");i!=c.$lastIcon&&c.$lastIcon&&c.$lastIcon.removeClass("minus").addClass("plus");var j=g.parent("div");if(j.contains(f)){var k="none"==f.css("display");f.css({display:k?"":"none"}),k?i.removeClass("plus").addClass("minus"):i.removeClass("minus").addClass("plus")}else f.css({display:"",paddingLeft:24}),j.append(f),i.removeClass("plus").addClass("minus");c.$lastIcon=i;var l=c.getSubTmpl("method"),m=c.$ec,n=m["$"+b.params.type]||{},o=n[b.params.name]||{};h.info=o;var p=i.offset().top;p<a.DOM.scrollTop()&&a.DOM.scrollTop(p-50),f.html(e.render(l,h))}})},{requires:["magix/view","apiapp/models/manager","magix/magix","apiapp/helpers/crox","anim"]});