KISSY.add("apiapp/mviews/partials/header",function(a,b,c,d,e){return b.extend({tmpl:'<div class="toolbar clearfix">\r\n    {{if data.isHome}}\r\n        <h1>Magix API</h1>\r\n    {{else}}\r\n    <a class="icon-home" href="#!/home"><i class="iconfont">&#336;</i></a>\r\n        {{if !data.isIndex}}\r\n        <a class="icon-menu" mx-click="toggleMenu<prevent>({ver:\'{{data.infos.ver}}\'})" href="#!/home">\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n        </a>\r\n        {{/if}}\r\n        <div class="form-search clearfix" style="margin-left:{{if data.isIndex}}50{{else}}85{{/if}}px">\r\n            <input autocomplete="off" value="{{if data.q}}{{data.q}}{{/if}}" class="search" type="text" mx-keydown="search" id="{{data.viewId}}_sipt" />\r\n            <i class="iconfont delete">&#378;</i>\r\n            <div class="btn-search" mx-click="search"><i class="iconfont" name="search-btn">&#337;</i></div>\r\n        </div>\r\n    {{/if}}\r\n</div>\r\n{{if !data.isHome&&!data.isIndex}}\r\n<div class="menu-extended">\r\n    <div class="extended-inner">\r\n        <div class="clearfix">\r\n            <div class="menu-outer">\r\n                {{if data.extList&&data.extList.length}}<div class="menu-t">\u6838\u5fc3\u6a21\u5757</div>{{/if}}\r\n                <ul class="menu">\r\n                    {{each data.coreList as val}}\r\n                    <li class="menu-list">\r\n                        <a href="#!/{{data.infos.loader}}/{{data.infos.ver}}/{{val.name}}">{{val.dName}}</a>\r\n                    </li>\r\n                    {{/each}}\r\n                </ul>\r\n            </div>\r\n            {{if data.extList&&data.extList.length}}\r\n            <div class="menu-outer">\r\n                <div class="menu-t">\u6269\u5c55\u6a21\u5757</div>\r\n                <ul class="menu">\r\n                    {{each data.extList as val}}\r\n                    <li class="menu-list">\r\n                        <a href="#!/{{data.infos.loader}}/{{data.infos.ver}}/{{val.name}}">{{val.dName}}</a>\r\n                    </li>\r\n                    {{/each}}\r\n                </ul>\r\n            </div>\r\n            {{/if}}\r\n        </div>\r\n    </div>\r\n</div>\r\n{{/if}}',init:function(){this.observeLocation({path:!0,keys:"q"})},updateUI:function(a){var b=this;a.viewId=b.id,a.q=b.location.get("q");var d=c.render(b.tmpl,a);b.setViewHTML(b.id,d)},render:function(){var b=this,c=b.location,f={};"/home"==c.path?(f.isHome=!0,b.updateUI(f)):a.endsWith(c.path,"/index")?(f.isIndex=!0,b.updateUI(f)):d.createRequest(b).fetchAll({name:"Class_List"},function(a,c){a?b.setViewHTML(b.id,a.msg):b.updateUI({coreList:c.get("coreList"),extList:c.get("extList"),infos:e.local("APIPathInfo")})},b)},search:function(){var b=a.one("#"+this.id+"_sipt").val(),c=e.local("APIPathInfo");this.navigate(["",c.loader,c.ver,"search"].join("/"),{q:b})},"toggleMenu<click>":function(b){var c=a.one(".menu-extended");if(!c)return void(this.$dropShown=!1);var d=c.height();if(d)c.animate({height:"0"},.4,"easeBoth"),this.$dropShown=!1;else{var e="1.0"==b.params.ver||"1.1"==b.params.ver?234:280;c.animate({height:e},.4,"easeOut"),this.$dropShown=!0}},"search<click,keydown>":function(a){"keydown"==a.type?13==a.keyCode&&this.search():this.search()},"$doc<click>":function(a){this.$dropShown&&!this.inside(a.target)&&this["toggleMenu<click>"]()}})},{requires:["magix/view","apiapp/helpers/crox","apiapp/models/manager","magix/magix"]});