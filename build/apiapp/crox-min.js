var Crox;!function(){function Class(a,b,c){function d(){}d.prototype=a.prototype;var e=new d;if(c)for(var f in c)e[f]=c[f];return b||(b=d),b.prototype=e,b}function Position(a,b){this.row=a,this.col=b}function getPos(a,b){var c=a.substring(0,b),d=/\r\n?|\n/g,e=c.match(d),f=1;e&&(f+=e.length);var g=1+/[^\r\n]*$/.exec(c)[0].length;return new Position(f,g)}function Enum(a){for(var b={},c=0;c<a.length;++c)b[a[c]]=a[c];return b}function inArr(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}function inArr_strict(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function nodup(a,b){for(var c=[],d=a.length,e=0;d>e;e++){for(var f=e+1;d>f;f++)b(a[e],a[f])&&(f=++e);c.push(a[e])}return c}function htmlEncode(a){return String(a).replace(/[&<>"]/g,function(a){switch(a){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return"&quot;"}})}function singleQuote(a){return"'"+String(a).replace(/[\x00-\x1f'\\\u2028\u2029]/g,function(a){switch(a){case"'":return"\\'";case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"	":return"\\t"}return"\\u"+("000"+a.charCodeAt(0).toString(16)).slice(-4)})+"'"}function doubleQuote(a){return JSON.stringify(String(a)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function quote(a){var b=singleQuote(a),c=doubleQuote(a);return b.length<c.length?b:c}function phpQuote(a){return'"'+String(a).replace(/[\x00-\x1f"\\\u2028\u2029]/g,function(a){switch(a){case'"':return'\\"';case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"	":return"\\t";case"$":return"\\$"}return"\\u"+("000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'}function createLexer(a){function b(a,b,c,d){this.tag=a,this.text=b,this.index=c,this.subMatches=d}function c(){}function d(a){for(var b=1,d=[],e=[1],f=[],g=0;g<a.length;++g)e.push(b+=RegExp("|"+a[g][0].source).exec("").length),f.push(a[g][1]||c),d.push("("+a[g][0].source+")");var h=RegExp(d.join("|")+"|","g");return[h,e,f]}function e(a){function c(){var c=h[h.length-1],j=g[c],k=j[0];k.lastIndex=e;var l=k.exec(a);if(""==l[0]){if(d>e)throw Error("lexer error: "+getPos(a,e)+"\n"+JSON.stringify(a.slice(e,e+50)));return new b(f,"",e)}i.index=e,e=k.lastIndex;for(var m=j[1],n=0;n<m.length;++n)if(l[m[n]]){var o=j[2][n].apply(i,l.slice(m[n],m[n+1]));return new b(o,l[0],i.index,l.slice(m[n]+1,m[n+1]))}}"string"!=typeof a&&(a=String(a));var d=a.length,e=0,h=[""],i={text:"",index:0,source:a,pushState:function(a){h.push(a)},popState:function(){h.pop()},retract:function(a){e-=a}};return{scan:function(){do var a=c();while(null==a.tag);return a},getPos:function(b){return getPos(a,b)},reset:function(){e=0,h=[""]}}}b.prototype.toString=function(){return this.text};var f=a.$||"$",g={};for(var h in a)"$"!=h.charAt(0)&&(g[h]=d(a[h]));return e}function AstNode(){}function buildBinary(a,b,c){return new Binary(a,b,c)}function buildUnary(a,b){return new Unary(a,b)}function ajaxGet(a){var b;try{b=new XMLHttpRequest}catch(c){try{b=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){}}if(!b)return void alert("\u521b\u5efa XHR \u5931\u8d25");b.open("GET",a,!1),b.send(null);var d="";if(200!=b.status)throw Error("ajaxGet error:\nurl: "+a+"\n"+b.status+" "+b.statusText);return d=b.responseText}function calcAbsPath(a,b){switch(theEnv){case Env.Browser:case Env.File:var c=document.createElement("div");return c.innerHTML='<a href="'+(a.replace(/[^/]+$/,"")+b).replace(/"/g,"&quot;")+'">a</a>',c.firstChild.href;default:throw Error("\u4e0d\u652f\u6301 Env: "+theEnv)}}function loadTemplate(a){switch(theEnv){case Env.Browser:return ajaxGet(a);case Env.File:return readFile(a.replace(/^file[:]\/{3}/,""));default:return readFile(a)}}function procInclude(tokStr,currentUrl,includes){var str=eval(tokStr.text),url=str;if(currentUrl&&!/^https?:\/\/|^\//.test(str)&&(url=calcAbsPath(currentUrl,str)),-1!=inArr(includes,url))throw Error("\u7981\u6b62\u5faa\u73af include: "+url);includes.push(url);var s=loadTemplate(url),lx=Lexer(s),r=parse(lx,url,includes);return r}function compile2js(a){function b(){D+="  "}function c(){D=D.substr(0,D.length-2)}function d(){E=F(),B="(function(data) {\nvar "+E+' = "";\n'}function e(){return C&&(B+=htmlEncode),B+="return "+E+";\n})"}function f(a){B+=D+a+"\n"}function g(a){var b=A(a.expr);a.encode&&(C=!0,b="htmlEncode("+b+")"),f(E+" += "+b+";")}function h(a){f(E+" += "+quote(a.text)+";")}function i(a){f("if("+A(a.expr)+"){"),b(),m(a.stmts),c(),f("}"),a.falseStmts&&(f("else{"),b(),m(a.falseStmts),c(),f("}"))}function j(a){var d=a.idKey||F(),e=a.idItem;f("@"==a.type?"for(var "+d+"=0; "+d+"<"+z(a.expr,p)+".length; ++"+d+")":"for(var "+d+" in "+z(a.expr,u)+")"),f("{"),b(),f("var "+e+"="+z(a.expr,p)+"["+d+"];"),m(a.stmts),c(),f("}")}function k(a){f("var "+a.id+" = "+A(a.expr)+";")}function l(a){switch(a.tag){case"eval":g(a);break;case"content":h(a);break;case"if":i(a);break;case"each":j(a);break;case"set":k(a);break;default:throw 2}}function m(a){for(var b=0;b<a.length;++b)l(a[b])}function n(a){return F=a.genGetId(),d(),m(a.stmts),e()}function o(a){switch(a){case"id":case"literal":return!0}return!1}function p(a){if(o(a))return!0;switch(a){case".":case"[]":return!0}return!1}function q(a){return"call"==a}function r(a){return p(a)||q(a)}function s(a){return r(a)||"u!"==a||"u-"==a}function t(a){if(s(a))return!0;switch(a){case"*":case"/":case"%":return!0}return!1}function u(a){if(t(a))return!0;switch(a){case"+":case"-":return!0}return!1}function v(a){if(u(a))return!0;switch(a){case"<":case">":case"<=":case">=":return!0}return!1}function w(a){if(v(a))return!0;switch(a){case"==":case"!=":return!0}return!1}function x(a){return w(a)||"&&"==a}function y(a){return x(a)||"||"==a}function z(a,b){var c=A(a);return b&&!b(a.op)&&(c="("+c+")"),c}function A(a){switch(a.op){case"id":case"literal":return a.toString();case".":return z(a.expr1,p)+"['"+a.expr2+"']";case"[]":return z(a.expr1,p)+"["+A(a.expr2)+"]";case"u!":case"u-":return a.op.charAt(1)+" "+z(a.expr,s);case"*":case"/":case"%":return z(a.expr1,t)+a.op+z(a.expr2,s);case"+":case"-":return z(a.expr1,u)+a.op+" "+z(a.expr2,t);case"<":case">":case"<=":case">=":return z(a.expr1,v)+a.op+z(a.expr2,u);case"==":case"!=":return z(a.expr1,w)+a.op+z(a.expr2,v);case"&&":return z(a.expr1,x)+"&&"+z(a.expr2,w);case"||":return z(a.expr1,y)+"||"+z(a.expr2,x);case"?":return z(a.expr1,y)+"?"+z(a.expr2,null)+":"+z(a.expr3,null);case"call":for(var b=z(a.fn)+"(",c=0;c<a.args.length;++c)c>0&&(b+=","),b+=z(a.args[c]);return b+")";default:throw Error("unknown expr: "+a.op)}}var B,C=!1,D="",E="",F=null;return n(a)}function compile2php(a){function b(){A+="  "}function c(){A=A.substr(0,A.length-2)}function d(){B="$"+C(),z="function temp($data) {\n"+B+" = '';\n",z+="function isNumber($a) { return is_float($a) || is_int($a); }\n",z+="function plus($a, $b) {if (isNumber($a) && isNumber($b)) {	return $a + $b;}else {	return ToString($a) . ToString($b);}}\n",z+="function logical_and($a, $b) { return $a ? $b : $a; }\n",z+="function logical_or($a, $b) { return $a ? $a : $b; }\n",z+="function ToString($a) {\n	if (is_string($a)) return $a;\n	if (isNumber($a)) return (string)$a;\n	if (is_bool($a)) return $a ? 'true' : 'false';\n	if (is_null($a)) return 'null';\n	if (is_array($a)) {\n		$s = '';\n		for ($i = 0; $i < count($a); ++$i) {\n			if ($i > 0) $s .= ',';\n			if (!is_null($a[$i]))\n				$s .= ToString($a[$i]);\n		}\n		return $s;\n	}\n	return '[object Object]';\n}\n",z+="function ToBoolean($a) {\n	if (is_string($a)) return strlen($a) > 0;\n	if (is_array($a) || is_object($a)) return true;\n	return (bool)$a;\n}\n"}function e(){return z+="return "+B+";\n}"}function f(a){z+=A+a+"\n"}function g(a){var b="ToString("+y(a.expr)+")";a.encode&&(b="htmlspecialchars("+b+")"),f(B+" .= "+b+";")}function h(a){f(B+" .= "+phpQuote(a.text)+";")}function i(a){f("if("+y(a.expr)+"){"),b(),m(a.stmts),c(),f("}"),a.falseStmts&&(f("else{"),b(),m(a.falseStmts),c(),f("}"))}function j(a){var d=a.idKey?"$"+a.idKey+"=>":"",e=a.idItem;f("foreach("+y(a.expr)+" as "+d+"$"+e+")"),f("{"),b(),m(a.stmts),c(),f("}")}function k(a){f("$"+a.id+" = "+y(a.expr)+";")}function l(a){switch(a.tag){case"eval":g(a);break;case"content":h(a);break;case"if":i(a);break;case"each":j(a);break;case"set":k(a);break;default:throw 2}}function m(a){for(var b=0;b<a.length;++b)l(a[b])}function n(a){return C=a.genGetId(),d(),m(a.stmts),e()}function o(a){switch(a){case"id":case"literal":return!0}return!1}function p(a){if(o(a))return!0;switch(a){case".":case"[]":case"+":case"&&":case"||":return!0}return!1}function q(a){return p(a)||"u!"==a||"u-"==a}function r(a){if(q(a))return!0;switch(a){case"*":case"/":case"%":return!0}return!1}function s(a){return r(a)||"-"==a}function t(a){if(s(a))return!0;switch(a){case"<":case">":case"<=":case">=":return!0}return!1}function u(a){if(t(a))return!0;switch(a){case"==":case"!=":return!0}return!1}function v(a){return u(a)}function w(a){return v(a)}function x(a,b){var c=y(a);return b&&!b(a.op)&&(c="("+c+")"),c}function y(a){switch(a.op){case"id":return"$"+a;case"literal":return a.toString();case".":return x(a.expr1,p)+"->"+a.expr2;case"[]":return x(a.expr1,p)+"["+y(a.expr2)+"]";case"u!":return"!ToBoolean("+x(a.expr,q)+")";case"u-":return"- "+x(a.expr,q);case"*":case"/":case"%":return x(a.expr1,r)+a.op+x(a.expr2,q);case"+":return"plus("+x(a.expr1,null)+", "+x(a.expr2,null)+")";case"-":return x(a.expr1,s)+"- "+x(a.expr2,r);case"<":case">":case"<=":case">=":return x(a.expr1,t)+a.op+x(a.expr2,s);case"==":case"!=":return x(a.expr1,u)+a.op+x(a.expr2,t);case"&&":return"logical_and("+x(a.expr1,null)+", "+x(a.expr2,null)+")";case"||":return"logical_or("+x(a.expr1,null)+", "+x(a.expr2,null)+")";case"?":return x(a.expr1,w)+"?"+x(a.expr2,null)+":"+x(a.expr3,null);default:throw Error("unknown expr: "+a.op)}}var z,A="",B="",C=null;return n(a)}function Crox(a){var b=Lexer(a),c=parse(b,location.href,[]);this.ast=c}Position.prototype.toString=function(){return"("+this.row+","+this.col+")"};var Lexer=function(){function a(a){return-1!=" abstract boolean break byte case catch char class const continue debugger default delete do double else enum export extends final finally float for function goto if implements import in instanceof int interface let long native new package private protected public return short static super switch synchronized this throw throws transient try typeof var void volatile while with yield ".indexOf(" "+a+" ")}var b=/[A-Za-z_]\w*/,c=/"(?:[^"\\]|\\[\s\S])*"|'(?:[^'\\]|\\[\s\S])*'/,d=/0x[\dA-Fa-f]+|(?:(?:0|[1-9]\d*)(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?/,e=[[/\s+/,function(){return"ws"}],[/#([a-z]+)/,function(a,b){switch(b){case"include":return a;default:throw Error("unknown: "+a+" "+getPos(this.source,this.index))}}],[b,function(b){switch(b){case"true":case"false":return"boolean";case"null":case"if":case"else":case"each":case"as":return b;default:if(a(b))throw Error("Reserved: "+b+" "+getPos(this.source,this.index));return"id"}}],[c,function(){return"string"}],[d,function(){return"number"}],[function(a){a.sort().reverse();for(var b=0;b<a.length;++b)a[b]=a[b].replace(/[()*+?.[\]|]/g,"\\$&");return RegExp(a.join("|"))}(["!","%","&&","(",")","*","+","-",".","/","<","<=","=","=>",">",">=","@","[","]","||","==","!=","?",":",","]),function(a){return a}]],f=createLexer({"":[[/(?:(?!{{)[\s\S])+|{{{?/,function(a){return"{{"==a.substring(0,2)?(this.pushState(a),a):"text"}]],"{{":e.concat([[/}}/,function(a){return this.popState(),a}]]),"{{{":e.concat([[/}}}/,function(a){return this.popState(),a}]])});return f}(),ast={},Stmt=Class(AstNode,{tag:null}),Expr=Class(AstNode,{op:null}),ProgramNode=Class(AstNode,function(a){this.idList=[["data",!0]],this.stmts=a});ProgramNode.prototype._addId=function(a,b){for(var c=0;c<this.idList.length;++c)if(this.idList[c][0]==a)return void(!this.idList[c][1]&&b&&(this.idList[c][1]=!0));this.idList.push([a,b])},ProgramNode.prototype.addId=function(a,b){this._addId(a.text,b)},ProgramNode.prototype.mergeIdList=function(a){for(var b=0;b<a.length;++b)this._addId(a[b][0],a[b][1])},ProgramNode.prototype.getUndefined=function(){for(var a=[],b=0;b<this.idList.length;++b)this.idList[b][1]||a.push(this.idList[b][0]);return a},ProgramNode.prototype.genGetId=function(){for(var a=this.idList,b="_";;){for(var c=0;c<a.length;++c)0!=a[c][0].indexOf(b)||(b+="_");break}return c=1,function(){return b+c++}};var Eval=Class(Stmt,function(a,b){this.expr=a,this.encode=b},{tag:"eval"}),ContentNode=Class(Stmt,function(a){this.text=a.text},{tag:"content"}),If=Class(Stmt,function(a,b,c){this.expr=a,this.stmts=b,this.falseStmts=c},{tag:"if"}),Each=Class(Stmt,function(a,b,c,d){this.type=a,this.expr=b,this.idKey=c[0],this.idItem=c[1],this.stmts=d},{tag:"each"}),Set=Class(Stmt,function(a,b){this.id=a,this.expr=b},{tag:"set"}),Binary=Class(Expr,function(a,b,c){this.expr1=a,this.op=b,this.expr2=c});Binary.prototype.toString=function(){return"("+this.expr1+")"+this.op+"("+this.expr2+")"};var Unary=Class(Expr,function(a,b){this.op="u"+a,this.expr=b});Unary.prototype.toString=function(){return this.op.slice(1)+"("+this.expr+")"};var Literal=Class(Expr,function(tok){switch(this.tag=tok.tag,tok.tag){case"number":this.value=Number(tok.text);break;case"string":this.value=eval(tok.text);break;case"boolean":this.value="true"==tok.text;break;case"null":this.value=null;break;default:throw Error("unknown literal: "+tok.tag)}},{op:"literal"});Literal.prototype.toString=function(){return"string"==this.tag?singleQuote(this.value):JSON.stringify(this.value)};var MemberExpr=Class(Expr,function(a,b,c){this.expr1=a,this.op=b,this.expr2=c});MemberExpr.prototype.toString=function(){var a=this.expr1.toString();return a+="."==this.op?"."+this.expr2:"["+this.expr2+"]"};var Id=Class(Expr,function(a){this.name=a.text,this.startIndex=a.index},{op:"id"});Id.prototype.toString=function(){return this.name},ast.ProgramNode=ProgramNode,ast.If=If,ast.Each=Each,ast.Set=Set,ast.Eval=Eval,ast.ContentNode=ContentNode,ast.buildBinary=buildBinary,ast.buildUnary=buildUnary,ast.Id=Id,ast.Literal=Literal,ast.MemberExpr=MemberExpr;var Conditional=Class(Expr,function(a,b,c){this.expr1=a,this.expr2=b,this.expr3=c},{op:"?"});Conditional.prototype.toString=function(){return"("+this.expr1+")?("+this.expr2+"):("+this.expr3+")"},ast.Conditional=Conditional;var Call=Class(Expr,function(a,b){this.fn=a,this.args=b},{op:"call"});ast.buildCall=function(a,b){return new Call(a,b)};var Env=Enum(["Browser","File","Other"]),theEnv=function(){if(this.location){if(/^https?:\/\//.test(location))return Env.Browser;if(/^file[:]\/\/\//.test(location))return Env.File}return Env.Other}(),parse=function(){function a(a){var b;return b=new ast.Literal(a)}function b(a,b){var c;return c=b}function c(a,b){var c=h[i[a]];return c[b]||c._}for(var d=41,e=["$","!","!=","#include","%","&&","(",")","*","+",",","-",".","/",":","<","<=","=","==","=>",">",">=","?","@","[","]","as","boolean","each","else","id","if","null","number","string","text","{{","{{{","||","}}","}}}","AdditiveExpression","ArgumentList","Arguments","CallExpression","ConditionalExpression","EqualityExpression","LeftHandSideExpression","LogicalAndExpression","LogicalOrExpression","MemberExpression","MultiplicativeExpression","PrimaryExpression","RelationalExpression","UnaryExpression","_1","_2","asPart","eachType","expr","program","statement","statements"],f={},g=0;g<e.length;++g)f[e[g]]=g;var h=[{_:-58},{_:-2},{_:-32768},{35:4,36:5,37:6,_:-1},{_:-11},{1:8,3:9,6:10,11:11,27:12,28:13,30:14,31:15,32:16,33:17,34:18,_:0},{1:8,6:10,11:11,27:12,30:32,32:16,33:17,34:18,_:0},{_:-3},{34:35,_:0},{_:-44},{4:38,23:39,_:-12},{17:41,_:-46},{_:-45},{_:-43},{_:-42},{9:43,11:44,_:-27},{_:-57},{_:-17},{2:45,18:46,_:-22},{_:-41},{5:47,_:-20},{22:48,38:49,_:-18},{6:50,12:51,24:52,_:-56},{4:54,8:55,13:56,_:-32},{_:-48},{15:57,16:58,20:59,21:60,_:-24},{_:-35},{39:61,_:0},{_:-46},{40:62,_:0},{_:-39},{_:-59},{7:64,_:0},{_:-40},{_:-14},{_:-13},{39:67,_:0},{1:8,6:10,7:75,11:11,27:12,30:32,32:16,33:17,34:18,_:0},{30:78,_:0},{_:-51},{_:-8},{_:-9},{39:87,_:0},{_:-47},{26:88,_:0},{39:89,_:0},{4:54,8:55,13:56,_:-33},{4:54,8:55,13:56,_:-34},{15:57,16:58,20:59,21:60,_:-26},{15:57,16:58,20:59,21:60,_:-25},{2:45,18:46,_:-23},{14:91,_:0},{5:47,_:-21},{_:-52},{7:92,10:93,_:0},{_:-54},{_:-49},{25:94,_:0},{_:-38},{_:-36},{_:-37},{9:43,11:44,_:-28},{9:43,11:44,_:-30},{9:43,11:44,_:-29},{9:43,11:44,_:-31},{_:-10},{30:95,_:0},{_:-7},{35:4,36:97,37:6,_:0},{_:-53},{_:-50},{19:100,_:-15},{39:101,_:0},{1:8,3:9,6:10,11:11,13:102,27:12,28:13,29:103,30:14,31:15,32:16,33:17,34:18,_:0},{_:-19},{_:-55},{30:104,_:0},{31:106,_:0},{39:107,_:0},{_:-16},{35:4,36:108,37:6,_:0},{39:109,_:0},{1:8,3:9,6:10,11:11,13:111,27:12,28:13,30:14,31:15,32:16,33:17,34:18,_:0},{_:-4},{35:4,36:112,37:6,_:0},{28:113,_:0},{1:8,3:9,6:10,11:11,13:114,27:12,28:13,30:14,31:15,32:16,33:17,34:18,_:0},{39:115,_:0},{31:116,_:0},{_:-6},{39:117,_:0},{_:-5}],i=[0,1,2,3,4,5,6,7,6,8,6,6,9,10,11,6,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,6,6,36,6,6,6,6,6,6,6,37,38,6,39,6,6,6,6,6,6,6,40,41,42,43,44,45,1,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,6,69,6,70,71,72,73,74,75,76,1,77,78,79,80,81,1,82,83,84,85,86,87,88,89,90,91],j=[{14:1,19:2},{21:3},,{20:7},,{0:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30,18:31},{0:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30,18:33},,{3:20,6:23,9:26,11:28,13:34},,{0:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30,18:36},{3:20,6:23,9:26,11:28,13:37},,{17:40},,{0:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30,18:42},,,,,,,,,,,{2:53},,,,,,,,,{15:63},,,,,{0:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30,18:65},{0:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30,18:66},,{3:20,6:23,9:26,10:68,11:28,13:30},{3:20,6:23,9:26,10:69,11:28,13:30},{0:19,3:20,6:23,9:26,10:27,11:28,12:70,13:30},{0:19,3:20,6:23,9:26,10:27,11:28,12:71,13:30},{0:19,3:20,5:72,6:23,9:26,10:27,11:28,12:29,13:30},{0:19,3:20,4:73,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30},{0:19,3:20,5:22,6:23,7:74,9:26,10:27,11:28,12:29,13:30},{0:19,1:76,3:20,4:21,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30,18:77},,{0:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30,18:79},,{3:20,6:23,9:26,11:28,13:80},{3:20,6:23,9:26,11:28,13:81},{3:20,6:23,9:26,11:28,13:82},{0:83,3:20,6:23,9:26,10:27,11:28,13:30},{0:84,3:20,6:23,9:26,10:27,11:28,13:30},{0:85,3:20,6:23,9:26,10:27,11:28,13:30},{0:86,3:20,6:23,9:26,10:27,11:28,13:30},,,,,,,{21:90},,,,,,,,,,,,,,,,,,,,,{16:96},,{20:7},{0:19,3:20,4:98,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30},,{0:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30,18:99},,,,{0:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30,18:31},,,,{21:105},,,,{20:7},,{21:110},{0:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30,18:31},,{20:7},,{0:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,10:27,11:28,12:29,13:30,18:31}],k=[[63,60],[60,55,62],[62],[62,62,61],[61,36,31,59,39,62,36,13,31,39],[61,36,31,59,39,62,36,29,39,62,36,13,31,39],[61,36,28,58,59,26,57,39,62,36,13,28,39],[61,36,30,17,59,39],[61,36,59,39],[61,37,59,40],[61,36,3,34,56,39],[61,35],[58],[58,23],[58,4],[57,30],[57,30,19,30],[59,45],[45,49],[45,49,22,45,14,45],[49,48],[49,49,38,48],[48,46],[48,48,5,46],[46,53],[46,46,18,53],[46,46,2,53],[53,41],[53,53,15,41],[53,53,20,41],[53,53,16,41],[53,53,21,41],[41,51],[41,41,9,51],[41,41,11,51],[51,54],[51,51,8,54],[51,51,13,54],[51,51,4,54],[54,1,54],[54,11,54],[54,47],[52,34],[52,33],[52,27],[52,32],[52,30],[52,6,59,7],[50,52],[50,50,12,30],[50,50,24,59,25],[44,50,43],[43,6,7],[43,6,42,7],[42,59],[42,42,10,59],[47,50],[47,44],[55],[56]],l=[,function(a,b){var c;return a.stmts=b,c=a},function(){var a;return a=[]},function(a,b){var c;return b instanceof ast.ProgramNode?(a=a.concat(b.stmts),this.prog.mergeIdList(b.idList)):a.push(b),c=a},function(a,b,c,d,e){var f;return f=new ast.If(c,e,null)},function(a,b,c,d,e,f,g,h,i){var j;return j=new ast.If(c,e,i)},function(a,b,c,d,e,f,g,h){var i;return i=new ast.Each(c,d,f,h)},function(a,b,c,d){var e;return this.prog.addId(b,!0),e=new ast.Set(b,d)},function(a,b){var c;return c=new ast.Eval(b,!0)},function(a,b){var c;return c=new ast.Eval(b,!1)},function(a,b,c,d){var e;return e=d},function(a){var b;return b=new ast.ContentNode(a)},function(){var a;return a="%"},function(){var a;return a="@"},function(){var a;return a="%"},function(a){var b;return this.prog.addId(a,!0),b=[null,a]},function(a,b,c){var d;return this.prog.addId(a,!0),this.prog.addId(c,!0),d=[a,c]},,,function(a,b,c,d,e){var f;return f=new ast.Conditional(a,c,e)},,function(a,b,c){var d;return d=ast.buildBinary(a,"||",c)},,function(a,b,c){var d;return d=ast.buildBinary(a,"&&",c)},,function(a,b,c){var d;return d=ast.buildBinary(a,"==",c)},function(a,b,c){var d;return d=ast.buildBinary(a,"!=",c)},,function(a,b,c){var d;return d=ast.buildBinary(a,"<",c)},function(a,b,c){var d;return d=ast.buildBinary(a,">",c)},function(a,b,c){var d;return d=ast.buildBinary(a,"<=",c)},function(a,b,c){var d;return d=ast.buildBinary(a,">=",c)},,function(a,b,c){var d;return d=ast.buildBinary(a,"+",c)},function(a,b,c){var d;return d=ast.buildBinary(a,"-",c)},,function(a,b,c){var d;return d=ast.buildBinary(a,"*",c)},function(a,b,c){var d;return d=ast.buildBinary(a,"/",c)},function(a,b,c){var d;return d=ast.buildBinary(a,"%",c)},function(a,b){var c;return c=ast.buildUnary("!",b)},function(a,b){var c;return c=ast.buildUnary("-",b)},,a,a,a,a,function(a){var b;return this.prog.addId(a,!1),b=new ast.Id(a)},b,,function(a,b,c){var d;return d=new ast.MemberExpr(a,".",c.text)},function(a,b,c){var d;return d=new ast.MemberExpr(a,"[]",c)},function(a,b){var c;return c=ast.buildCall(a,b)},function(){var a;return a=[]},b,function(a){var b;return b=[a]},function(a,b,c){var d;return a.push(c),d=a},,,function(){var a;return a=this.prog=new ProgramNode},function(){var a;return a=procInclude(this.get(-1),this.path,this.includes)}];return function(a,b,g){function h(){var b=a.scan();return"ws"==b.tag&&(b=a.scan()),b}function i(){throw Error("Syntax error: "+a.getPos(o.index))}for(var m=0,n=[0],o=h(),p=[],q={get:function(a){return p[p.length+a]},set:function(a,b){p[p.length+a]=b},path:b,includes:g,prog:null};;){var r=c(m,f[o.tag]);if(r)if(r>0)n.push(m=r),p.push(o),o=h();else{if(!(0>r&&r>-32768))return o.tag!=e[0]&&i(),p[0];var s=-r,t=k[s],u=t.length-1;if(n.length-=u,m=j[n[n.length-1]][t[0]-d],n.push(m),l[s]){var v=l[s].apply(q,p.splice(p.length-u,u));p.push(v)}else 1!=u&&p.splice(p.length-u,u,null)}else i()}}}();Crox.prototype.genPhp=function(){return compile2php(this.ast)},Crox.prototype.genJs=function(){return compile2js(this.ast)},Crox.prototype.genJsFn=function(){return eval("0,"+this.genJs())},Crox.prototype.render=function(a){return this.genJsFn()(a)},this.Crox=Crox}();